{"remainingRequest":"/media/j/Новый том/js/forOks/node_modules/babel-loader/lib/index.js!/media/j/Новый том/js/forOks/node_modules/eslint-loader/index.js??ref--13-0!/media/j/Новый том/js/forOks/src/store/newsInfo.js","dependencies":[{"path":"/media/j/Новый том/js/forOks/src/store/newsInfo.js","mtime":1604750624634},{"path":"/media/j/Новый том/js/forOks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/j/Новый том/js/forOks/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/j/Новый том/js/forOks/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZnVuY3Rpb24gX2ZpbHRlck5ld3MoZGF0YUZyb21BcGksIGZpbHRlcikgewogIHZhciBfYXJyYXkgPSBbXTsKICBkYXRhRnJvbUFwaS5tYXAoZnVuY3Rpb24gKG5ld3MpIHsKICAgIC8vY29uc29sZS5sb2cobmV3cyk7CiAgICBpZiAobmV3cy5hdXRob3IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIudG9Mb3dlckNhc2UoKSkgfHwgbmV3cy50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGZpbHRlci50b0xvd2VyQ2FzZSgpKSB8fCBuZXdzLnRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIudG9Mb3dlckNhc2UoKSkgfHwgbmV3cy5kYXRlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgIF9hcnJheS5wdXNoKG5ld3MpOyAvL2NvbnNvbGUubG9nKF9hcnJheSk7CgogICAgfQogIH0pOwogIHJldHVybiBfYXJyYXk7Cn0KCnZhciBuZXdzSW5mbyA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBmaWx0ZXI6ICcnLAogICAgTmV3c0FydGljbGU6IFtdLAogICAgZGF0YUZyb21BcGk6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIENIQU5HRV9GSUxURVI6IGZ1bmN0aW9uIENIQU5HRV9GSUxURVIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZmlsdGVyID0gcGF5bG9hZDsKICAgIH0sCiAgICAvLyAyLiDQodC+0LfQtNCw0LXQvCDQvNGD0YLQsNGG0LjRjgogICAgU0VUX0lORk86IGZ1bmN0aW9uIFNFVF9JTkZPKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmRhdGFGcm9tQXBpID0gcGF5bG9hZDsgLy9jb25zb2xlLmxvZyhwYXlsb2FkKTsKICAgIH0KICB9LAogIC8vIDEuINCh0L7Qt9C00LDQtdC8INC00LXQudGB0YLQstC40LUg0L/QviDQutC+0YLQvtGA0L7QvNGDINC/0L7Qu9GD0YfQsNC10Lwg0LTQsNC90L3Ri9C1INC/0L4gQVBJCiAgYWN0aW9uczogewogICAgc2V0UGFybUluZm86IGZ1bmN0aW9uIHNldFBhcm1JbmZvKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIGF4aW9zIC8vIDEuMSDQn9GD0YLRjAogICAgICAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL25ld3MnKSAvLyAxLjIg0J/QvtGB0LvQtSDQv9C+0LvRg9GH0LXQvdC40Y8g0L7RgtCy0LXRgtCwIChyZXNwb25zZSkg0LfQsNC/0YPRgdC60LDQtdC8INC80YPRgtCw0YbQuNGOIChTRVRfSU5GTykKICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KCdTRVRfSU5GTycsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGZpbHRlck5ld3M6IGZ1bmN0aW9uIGZpbHRlck5ld3Moc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLmRhdGFGcm9tQXBpLmxlbmd0aCkgewogICAgICAgIHJldHVybiBfZmlsdGVyTmV3cyhzdGF0ZS5kYXRhRnJvbUFwaSwgc3RhdGUuZmlsdGVyKTsKICAgICAgfQogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgbmV3c0luZm87"},{"version":3,"sources":["/media/j/Новый том/js/forOks/src/store/newsInfo.js"],"names":["axios","filterNews","dataFromApi","filter","_array","map","news","author","toLowerCase","includes","title","text","date","push","newsInfo","namespaced","state","NewsArticle","mutations","CHANGE_FILTER","payload","SET_INFO","actions","setParmInfo","context","get","then","response","commit","data","getters","length"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,WAAT,CAAoBC,WAApB,EAAiCC,MAAjC,EAAyC;AACvC,MAAIC,MAAM,GAAG,EAAb;AACAF,EAAAA,WAAW,CAACG,GAAZ,CAAgB,UAAAC,IAAI,EAAI;AACtB;AACA,QACEA,IAAI,CAACC,MAAL,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmCN,MAAM,CAACK,WAAP,EAAnC,KACAF,IAAI,CAACI,KAAL,CAAWF,WAAX,GAAyBC,QAAzB,CAAkCN,MAAM,CAACK,WAAP,EAAlC,CADA,IAEAF,IAAI,CAACK,IAAL,CAAUH,WAAV,GAAwBC,QAAxB,CAAiCN,MAAM,CAACK,WAAP,EAAjC,CAFA,IAGAF,IAAI,CAACM,IAAL,CAAUJ,WAAV,GAAwBC,QAAxB,CAAiCN,MAAM,CAACK,WAAP,EAAjC,CAJF,EAKE;AACAJ,MAAAA,MAAM,CAACS,IAAP,CAAYP,IAAZ,EADA,CAEA;;AACD;AACF,GAXD;AAYA,SAAOF,MAAP;AACD;;AACD,IAAMU,QAAQ,GAAG;AACfC,EAAAA,UAAU,EAAE,IADG;AAGfC,EAAAA,KAAK,EAAE;AACLb,IAAAA,MAAM,EAAE,EADH;AAELc,IAAAA,WAAW,EAAE,EAFR;AAGLf,IAAAA,WAAW,EAAE;AAHR,GAHQ;AASfgB,EAAAA,SAAS,EAAE;AACTC,IAAAA,aADS,yBACKH,KADL,EACYI,OADZ,EACqB;AAC5BJ,MAAAA,KAAK,CAACb,MAAN,GAAeiB,OAAf;AACD,KAHQ;AAIT;AACAC,IAAAA,QALS,oBAKAL,KALA,EAKOI,OALP,EAKgB;AACvBJ,MAAAA,KAAK,CAACd,WAAN,GAAoBkB,OAApB,CADuB,CAEvB;AACD;AARQ,GATI;AAmBf;AACAE,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,uBACKC,OADL,EACc;AACnB,aACExB,KAAK,CACH;AADG,OAEFyB,GAFH,CAEO,gCAFP,EAGE;AAHF,OAIGC,IAJH,CAIQ,UAAAC,QAAQ;AAAA,eAAIH,OAAO,CAACI,MAAR,CAAe,UAAf,EAA2BD,QAAQ,CAACE,IAApC,CAAJ;AAAA,OAJhB,CADF;AAOD;AATM,GApBM;AAgCfC,EAAAA,OAAO,EAAE;AACP7B,IAAAA,UADO,sBACIe,KADJ,EACW;AAChB,UAAIA,KAAK,CAACd,WAAN,CAAkB6B,MAAtB,EAA8B;AAC5B,eAAO9B,WAAU,CAACe,KAAK,CAACd,WAAP,EAAoBc,KAAK,CAACb,MAA1B,CAAjB;AACD;AACF;AALM;AAhCM,CAAjB;AAwCA,eAAeW,QAAf","sourcesContent":["import axios from 'axios';\r\n\r\nfunction filterNews(dataFromApi, filter) {\r\n  let _array = [];\r\n  dataFromApi.map(news => {\r\n    //console.log(news);\r\n    if (\r\n      news.author.toLowerCase().includes(filter.toLowerCase()) ||\r\n      news.title.toLowerCase().includes(filter.toLowerCase()) ||\r\n      news.text.toLowerCase().includes(filter.toLowerCase()) ||\r\n      news.date.toLowerCase().includes(filter.toLowerCase())\r\n    ) {\r\n      _array.push(news);\r\n      //console.log(_array);\r\n    }\r\n  });\r\n  return _array;\r\n}\r\nconst newsInfo = {\r\n  namespaced: true,\r\n\r\n  state: {\r\n    filter: '',\r\n    NewsArticle: [],\r\n    dataFromApi: [],\r\n  },\r\n\r\n  mutations: {\r\n    CHANGE_FILTER(state, payload) {\r\n      state.filter = payload;\r\n    },\r\n    // 2. Создаем мутацию\r\n    SET_INFO(state, payload) {\r\n      state.dataFromApi = payload;\r\n      //console.log(payload);\r\n    },\r\n  },\r\n  // 1. Создаем действие по которому получаем данные по API\r\n  actions: {\r\n    setParmInfo(context) {\r\n      return (\r\n        axios\r\n          // 1.1 Путь\r\n          .get('http://localhost:8000/api/news')\r\n          // 1.2 После получения ответа (response) запускаем мутацию (SET_INFO)\r\n          .then(response => context.commit('SET_INFO', response.data))\r\n      );\r\n    },\r\n  },\r\n\r\n  getters: {\r\n    filterNews(state) {\r\n      if (state.dataFromApi.length) {\r\n        return filterNews(state.dataFromApi, state.filter);\r\n      }\r\n    },\r\n  },\r\n};\r\nexport default newsInfo;\r\n"]}]}